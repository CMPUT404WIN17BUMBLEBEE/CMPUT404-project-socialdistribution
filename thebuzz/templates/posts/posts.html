{% extends 'base.html' %}

{% load static %}

{% block title %}News Feed{% endblock %}




{% block content %}
  <div id="news_feed_content">
    <div>
        <a href="/posts/post_form_upload.html">
            <input id="newpost" type="button" value="Add New Post">
        </a>
    </div>
    <div id = "incoming">
    </div>
    {% if post_list %}
      {% for post in post_list %}
          <div id="post-blocks">
              <div id="post-title-bar">
                <div id="author">{{ post.associated_author }}</div><!--TODO: need to fix this to be author's displayName-->
                <div id="post-title">
                  <a href="/posts/{{ post.id }}/detail.html">{{ post.title }}</a>
                </div>
                <div id="post-date">{{ post.published }}</div>
              </div>
              <div>
                {{ post.content | safe }}
              </div>
              <div id="delet-div">
                <a href="/posts/{{ post.id }}/delete">
                  <button type="button">Delete</button>
                </a>
              </div>
          </div>
      {% endfor %}
    {% else %}
        <p id="no-posts">No post is made during the past two days.</p>
    {% endif %}
  </div>

{% block extra_head %}
  <link href="{% static 'news_feed.css' %}" rel="stylesheet" type="text/css"/>
<!-- Store variables needed by Javascript (Ajax) here, as suggested by http://stackoverflow.com/a/3340578-->
  <script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'ajaxCheck.js' %}"></script> 
{% endblock %}


{% endblock %}
